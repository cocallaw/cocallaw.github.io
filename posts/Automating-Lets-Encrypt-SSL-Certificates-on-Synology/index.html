<!doctype html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="Automating Let’s Encrypt SSL Certificates on Synology DSM with acme.sh and Cloudflare DNS" /><meta name="author" content="Corey Callaway" /><meta property="og:locale" content="en" /><meta name="description" content="How to automate Let’s Encrypt SSL certificate issuance and renewal on Synology DSM using acme.sh with Cloudflare DNS." /><meta property="og:description" content="How to automate Let’s Encrypt SSL certificate issuance and renewal on Synology DSM using acme.sh with Cloudflare DNS." /><link rel="canonical" href="https://cocallaw.com/posts/Automating-Lets-Encrypt-SSL-Certificates-on-Synology/" /><meta property="og:url" content="https://cocallaw.com/posts/Automating-Lets-Encrypt-SSL-Certificates-on-Synology/" /><meta property="og:site_name" content="cocallaw" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2025-12-14T12:00:00-05:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Automating Let’s Encrypt SSL Certificates on Synology DSM with acme.sh and Cloudflare DNS" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@Corey Callaway" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Corey Callaway","url":"https://www.cocallaw.com/about/"},"dateModified":"2025-12-14T12:00:00-05:00","datePublished":"2025-12-14T12:00:00-05:00","description":"How to automate Let’s Encrypt SSL certificate issuance and renewal on Synology DSM using acme.sh with Cloudflare DNS.","headline":"Automating Let’s Encrypt SSL Certificates on Synology DSM with acme.sh and Cloudflare DNS","mainEntityOfPage":{"@type":"WebPage","@id":"https://cocallaw.com/posts/Automating-Lets-Encrypt-SSL-Certificates-on-Synology/"},"url":"https://cocallaw.com/posts/Automating-Lets-Encrypt-SSL-Certificates-on-Synology/"}</script><title>Automating Let's Encrypt SSL Certificates on Synology DSM with acme.sh and Cloudflare DNS | cocallaw</title><link rel="icon" type="image/png" href="/assets/img/favicons/favicon-96x96.png" sizes="96x96"><link rel="icon" type="image/svg+xml" href="/assets/img/favicons/favicon.svg"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.36.4/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.18/dayjs.min.js,npm/dayjs@1.11.18/locale/en.js,npm/dayjs@1.11.18/plugin/relativeTime.js,npm/dayjs@1.11.18/plugin/localizedFormat.js,npm/tocbot@4.36.4/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.min.js?baseurl=&register=true" ></script> <script defer src="https://static.cloudflareinsights.com/beacon.min.js" data-cf-beacon='{"token": "b814618bb529402badb6aeea52009c22"}' ></script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="https://ccblog-hxegfte6cpg4c7a3.z01.azurefd.net/general/profile.png" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/">cocallaw</a><p class="site-subtitle fst-italic mb-0">Tech Tinkerings</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/cocallaw" aria-label="github" target="_blank" rel="noopener noreferrer" > <i class="fab fa-github"></i> </a> <a href="https://www.linkedin.com/in/corey-callaway-1abbb227/" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" class="flex-shrink-0" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">Home</a> </span> <span>Automating Let's Encrypt SSL Certificates on Synology DSM with acme.sh and Cloudflare DNS</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link" aria-label="Sidebar"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link" aria-label="Search"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="true"><header><h1 data-toc-skip>Automating Let's Encrypt SSL Certificates on Synology DSM with acme.sh and Cloudflare DNS</h1><p class="post-desc fw-light mb-4">How to automate Let's Encrypt SSL certificate issuance and renewal on Synology DSM using acme.sh with Cloudflare DNS.</p><div class="post-meta text-muted"> <span> Posted <time data-ts="1765731600" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Dec 14, 2025 </time> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://www.cocallaw.com/about/">Corey Callaway</a> </em> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="1737 words" > <em>9 min</em> read</span></div></div></div></header><div id="toc-bar" class="d-flex align-items-center justify-content-between invisible"> <span class="label text-truncate">Automating Let's Encrypt SSL Certificates on Synology DSM with acme.sh and Cloudflare DNS</span> <button type="button" class="toc-trigger btn me-1"> <i class="fa-solid fa-list-ul fa-fw"></i> </button></div><button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm"> <span class="label ps-2 pe-1">Contents</span> <i class="fa-solid fa-angle-right fa-fw"></i> </button> <dialog id="toc-popup" class="p-0"><div class="header d-flex flex-row align-items-center justify-content-between"><div class="label text-truncate py-2 ms-4">Automating Let's Encrypt SSL Certificates on Synology DSM with acme.sh and Cloudflare DNS</div><button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75"> <i class="fas fa-close"></i> </button></div><div id="toc-popup-content" class="px-4 py-3 pb-4"></div></dialog><div class="content"><p>Managing SSL certificates can be tedious, especially when dealing with resources that aren’t publicly accessible. Synology currently provides the ability to automate certificate management through its interface, but it has limitations. If you want to use a certificate from Let’s Encrypt, you have to rely on HTTP challenges, which require your Synology to be accessible over the internet. This can be a security concern and isn’t always feasible for home labs or internal services.</p><p>However, by SSHing into your Synology and using the acme.sh script with Cloudflare DNS validation, you can fully automate the issuance and renewal of Let’s Encrypt certificates without exposing your Synology to the internet. In this guide, I’ll walk you through setting up the certificate generation and automation using acme.sh and Cloudflare’s to perform DNS-01 challenges for your domain.</p><h2 id="why-dns-challenge"><span class="me-2">Why DNS Challenge?</span><a href="#why-dns-challenge" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>The DNS-01 challenge method offers several advantages over traditional HTTP-01 challenges:</p><ul><li><strong>No port forwarding required</strong> - Your Synology doesn’t need to be publicly accessible<li><strong>Wildcard certificate support</strong> - Secure multiple subdomains with a single certificate<li><strong>Works behind firewalls</strong> - Perfect for internal or VPN-only accessible systems<li><strong>Cleaner and more secure</strong> - No temporary files exposed on your web server</ul><h2 id="prerequisites"><span class="me-2">Prerequisites</span><a href="#prerequisites" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Before starting, ensure you have:</p><ul><li>A Synology NAS running DSM 7.x<li>SSH access enabled (Control Panel → Terminal &amp; SNMP → Enable SSH service)<li>A domain managed by Cloudflare (free tier works)<li>Cloudflare API credentials<li>Basic command line familiarity</ul><h2 id="step-1-create-a-dedicated-certificate-management-user"><span class="me-2">Step 1: Create a Dedicated Certificate Management User</span><a href="#step-1-create-a-dedicated-certificate-management-user" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>For better security and organization, create a dedicated user for managing certificates. This user will own the acme.sh installation and handle certificate renewals.</p><h3 id="creating-the-user-in-dsm"><span class="me-2">Creating the User in DSM</span><a href="#creating-the-user-in-dsm" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ol><li>Log into your Synology DSM web interface as an administrator<li>Navigate to <strong>Control Panel</strong> → <strong>User &amp; Group</strong><li>Click <strong>Create</strong> to add a new user<li>Configure the user with these settings:<ul><li><strong>Name</strong>: <code class="language-plaintext highlighter-rouge">certadmin</code><li><strong>Description</strong>: <code class="language-plaintext highlighter-rouge">Certificate Management Account</code><li><strong>Email</strong>: (optional)<li><strong>Password</strong>: Set a strong password (you’ll need this for deployment)<li><strong>Disallow user to change password</strong>: (your preference)</ul><li>On the <strong>Permissions</strong> tab, you can leave most services unchecked<li>On the <strong>Applications</strong> tab, no special permissions are needed<li>Click <strong>Apply</strong> to create the user</ol><h3 id="grant-administrator-privileges"><span class="me-2">Grant Administrator Privileges</span><a href="#grant-administrator-privileges" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>The certadmin user needs administrator privileges to deploy certificates to DSM:</p><ol><li>Still in <strong>Control Panel</strong> → <strong>User &amp; Group</strong><li>Select the <strong>Group</strong> tab<li>Click on the <strong>administrators</strong> group<li>Click <strong>Edit</strong><li>Check the box next to <strong>certadmin</strong> to add them to the administrators group<li>Click <strong>OK</strong> to save</ol><h3 id="enable-ssh-access"><span class="me-2">Enable SSH Access</span><a href="#enable-ssh-access" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Now SSH into your Synology as an administrator user to prepare the environment:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ssh certadmin@your-synology-ip
</pre></table></code></div></div><p>The certadmin user is now ready to manage certificates.</p><h2 id="step-2-obtain-cloudflare-api-credentials"><span class="me-2">Step 2: Obtain Cloudflare API Credentials</span><a href="#step-2-obtain-cloudflare-api-credentials" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>You’ll need Cloudflare API credentials to allow acme.sh to create DNS validation records.</p><ol><li>Log into your Cloudflare dashboard<li>Navigate to <strong>My Profile</strong> → <strong>API Tokens</strong><li>Create a token with <strong>Zone:DNS:Edit</strong> permissions for your domain<li>Save the token securely - you’ll need it shortly</ol><p>Alternatively, you can use your Global API Key (less secure):</p><ul><li>Find it under <strong>My Profile</strong> → <strong>API Tokens</strong> → <strong>Global API Key</strong></ul><h2 id="step-3-download-and-install-acmesh"><span class="me-2">Step 3: Download and Install acme.sh</span><a href="#step-3-download-and-install-acmesh" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Download the latest acme.sh release from GitHub:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>wget <span class="nt">-O</span> /tmp/acme.sh.zip https://github.com/acmesh-official/acme.sh/archive/master.zip
</pre></table></code></div></div><p>Extract it to a permanent location:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>7z x <span class="nt">-o</span>/usr/local/share /tmp/acme.sh.zip
</pre></table></code></div></div><p>Rename the extracted directory:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo mv</span> /usr/local/share/acme.sh-master/ /usr/local/share/acme.sh
</pre></table></code></div></div><p>Set appropriate ownership (if using the certadmin user):</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo chown</span> <span class="nt">-R</span> certadmin /usr/local/share/acme.sh/
</pre></table></code></div></div><h2 id="step-4-configure-cloudflare-dns-api"><span class="me-2">Step 4: Configure Cloudflare DNS API</span><a href="#step-4-configure-cloudflare-dns-api" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Set your Cloudflare credentials as environment variables. For API Token (recommended):</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="nb">export </span><span class="nv">CF_Token</span><span class="o">=</span><span class="s2">"your_cloudflare_api_token_here"</span>
<span class="nb">export </span><span class="nv">CF_Account_ID</span><span class="o">=</span><span class="s2">"your_cloudflare_account_id"</span>
<span class="nb">export </span><span class="nv">CF_Zone_ID</span><span class="o">=</span><span class="s2">"your_zone_id"</span>
</pre></table></code></div></div><p>Or for Global API Key:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">export </span><span class="nv">CF_Key</span><span class="o">=</span><span class="s2">"your_cloudflare_global_api_key"</span>
<span class="nb">export </span><span class="nv">CF_Email</span><span class="o">=</span><span class="s2">"your_cloudflare_email@example.com"</span>
</pre></table></code></div></div><p>These credentials will be saved by acme.sh for future renewals.</p><h2 id="step-5-issue-your-certificate"><span class="me-2">Step 5: Issue Your Certificate</span><a href="#step-5-issue-your-certificate" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Navigate to the acme.sh directory:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">cd</span> /usr/local/share/acme.sh
</pre></table></code></div></div><p>Request a certificate using the DNS challenge method:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>./acme.sh <span class="nt">--server</span> letsencrypt <span class="nt">--issue</span> <span class="nt">-d</span> <span class="s2">"exampledomain.com"</span> <span class="nt">--dns</span> dns_cf <span class="nt">--home</span> <span class="nv">$PWD</span>
</pre></table></code></div></div><p>For a wildcard certificate, add the wildcard domain:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>./acme.sh <span class="nt">--server</span> letsencrypt <span class="nt">--issue</span> <span class="nt">-d</span> <span class="s2">"exampledomain.com"</span> <span class="nt">-d</span> <span class="s2">"*.exampledomain.com"</span> <span class="nt">--dns</span> dns_cf <span class="nt">--home</span> <span class="nv">$PWD</span>
</pre></table></code></div></div><p>The script will:</p><ol><li>Generate a certificate signing request<li>Create a TXT record in your Cloudflare DNS<li>Wait for DNS propagation<li>Complete the ACME challenge<li>Retrieve your certificate</ol><h2 id="step-6-deploy-to-synology-dsm"><span class="me-2">Step 6: Deploy to Synology DSM</span><a href="#step-6-deploy-to-synology-dsm" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Once the certificate is issued, deploy it to your Synology system:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>./acme.sh <span class="nt">-d</span> <span class="s2">"exampledomain.com"</span> <span class="nt">--deploy</span> <span class="nt">--deploy-hook</span> synology_dsm <span class="nt">--home</span> <span class="nv">$PWD</span>
</pre></table></code></div></div><p>Before running this command, you may need to set Synology-specific environment variables:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="nb">export </span><span class="nv">SYNO_Username</span><span class="o">=</span><span class="s2">"your_admin_username"</span>
<span class="nb">export </span><span class="nv">SYNO_Password</span><span class="o">=</span><span class="s2">"your_admin_password"</span>
<span class="nb">export </span><span class="nv">SYNO_Certificate</span><span class="o">=</span><span class="s2">"your_certificate_description"</span>
<span class="nb">export </span><span class="nv">SYNO_Create</span><span class="o">=</span>1
</pre></table></code></div></div><p>The deploy hook will:</p><ul><li>Connect to the Synology API<li>Upload the certificate and private key<li>Create or update the certificate in DSM<li>Optionally restart services using the certificate</ul><h2 id="step-7-verify-installation"><span class="me-2">Step 7: Verify Installation</span><a href="#step-7-verify-installation" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Log into your Synology DSM web interface:</p><ol><li>Go to <strong>Control Panel</strong> → <strong>Security</strong> → <strong>Certificate</strong><li>You should see your new Let’s Encrypt certificate listed<li>Click <strong>Configure</strong> to assign it to specific services<li>Select which services should use this certificate</ol><h2 id="step-8-configure-automatic-renewal-with-synology-task-scheduler"><span class="me-2">Step 8: Configure Automatic Renewal with Synology Task Scheduler</span><a href="#step-8-configure-automatic-renewal-with-synology-task-scheduler" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>While acme.sh can install its own cron job, using Synology’s Task Scheduler provides better integration and easier management through the DSM interface.</p><h3 id="create-a-scheduled-task"><span class="me-2">Create a Scheduled Task</span><a href="#create-a-scheduled-task" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ol><li>Log into DSM and navigate to <strong>Control Panel</strong> → <strong>Task Scheduler</strong><li>Click <strong>Create</strong> → <strong>Scheduled Task</strong> → <strong>User-defined script</strong><li>Configure the General settings:<ul><li><strong>Task</strong>: <code class="language-plaintext highlighter-rouge">Renew Let's Encrypt Certificate</code><li><strong>User</strong>: Select <strong>certadmin</strong> (this is critical - it must run as the certadmin user)<li><strong>Enabled</strong>: Check this box</ul><li>Configure the Schedule tab:<ul><li><strong>Run on the following days</strong>: Select <strong>Daily</strong><li><strong>First run time</strong>: Set to a time when your NAS is reliably on (e.g., 3:00 AM)<li><strong>Frequency</strong>: Select <strong>Once</strong><li><strong>Last run time</strong>: Leave blank</ul><li>Configure the Task Settings tab:<ul><li><strong>Send run details by email</strong>: (optional, recommended for monitoring)<li><strong>User-defined script</strong>: Enter the renewal command:</ul></ol><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>/usr/local/share/acme.sh/acme.sh <span class="nt">--renew</span> <span class="nt">-d</span> <span class="s2">"*.exampledomain.com"</span> <span class="nt">--home</span> /usr/local/share/acme.sh <span class="nt">--server</span> letsencrypt
</pre></table></code></div></div><p>For a non-wildcard certificate, use:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>/usr/local/share/acme.sh/acme.sh <span class="nt">--renew</span> <span class="nt">-d</span> <span class="s2">"exampledomain.com"</span> <span class="nt">--home</span> /usr/local/share/acme.sh <span class="nt">--server</span> letsencrypt
</pre></table></code></div></div><ol><li>Click <strong>OK</strong> to save the task</ol><h3 id="testing-the-scheduled-task"><span class="me-2">Testing the Scheduled Task</span><a href="#testing-the-scheduled-task" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Before waiting for the scheduled run, test the task manually:</p><ol><li>In <strong>Task Scheduler</strong>, select your renewal task<li>Click <strong>Run</strong> at the top<li>Check the results by clicking <strong>Action</strong> → <strong>View Result</strong></ol><p>The task will check if renewal is needed (certificates are renewed when they’re within 60 days of expiration). During the initial test, you should see output indicating the certificate is still valid and renewal isn’t needed yet.</p><h3 id="force-a-renewal-test"><span class="me-2">Force a Renewal Test</span><a href="#force-a-renewal-test" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>To verify everything works correctly, you can force a renewal via SSH:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo</span> <span class="nt">-u</span> certadmin /usr/local/share/acme.sh/acme.sh <span class="nt">--renew</span> <span class="nt">-d</span> <span class="s2">"*.exampledomain.com"</span> <span class="nt">--home</span> /usr/local/share/acme.sh <span class="nt">--server</span> letsencrypt <span class="nt">--force</span>
</pre></table></code></div></div><p>This will renew the certificate immediately, allowing you to verify the entire process works before the certificate actually needs renewal.</p><h3 id="monitoring-renewals"><span class="me-2">Monitoring Renewals</span><a href="#monitoring-renewals" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Enable email notifications in the Task Scheduler to receive alerts about renewal status:</p><ol><li>Edit your scheduled task<li>Check <strong>Send run details by email</strong><li><strong>Send run details only when the script terminates abnormally</strong>: (your preference)</ol><p>This ensures you’re notified if renewals fail for any reason.</p><h2 id="troubleshooting"><span class="me-2">Troubleshooting</span><a href="#troubleshooting" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="dns-propagation-issues"><span class="me-2">DNS Propagation Issues</span><a href="#dns-propagation-issues" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>If the challenge fails due to DNS propagation, you can increase the wait time:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>./acme.sh <span class="nt">--issue</span> <span class="nt">-d</span> <span class="s2">"exampledomain.com"</span> <span class="nt">--dns</span> dns_cf <span class="nt">--dnssleep</span> 120 <span class="nt">--home</span> <span class="nv">$PWD</span>
</pre></table></code></div></div><h3 id="permission-errors"><span class="me-2">Permission Errors</span><a href="#permission-errors" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>If you encounter permission issues, ensure the acme.sh directory has correct ownership:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo chown</span> <span class="nt">-R</span> <span class="si">$(</span><span class="nb">whoami</span><span class="si">)</span> /usr/local/share/acme.sh/
</pre></table></code></div></div><h3 id="certificate-not-appearing-in-dsm"><span class="me-2">Certificate Not Appearing in DSM</span><a href="#certificate-not-appearing-in-dsm" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Verify your Synology credentials are correct and the certadmin user has admin privileges (is in the administrators group). You can also manually import the certificate through the DSM interface:</p><ul><li>Certificate: <code class="language-plaintext highlighter-rouge">/usr/local/share/acme.sh/exampledomain.com/exampledomain.com.cer</code><li>Private Key: <code class="language-plaintext highlighter-rouge">/usr/local/share/acme.sh/exampledomain.com/exampledomain.com.key</code><li>Intermediate Certificate: <code class="language-plaintext highlighter-rouge">/usr/local/share/acme.sh/exampledomain.com/ca.cer</code></ul><h3 id="scheduled-task-not-running"><span class="me-2">Scheduled Task Not Running</span><a href="#scheduled-task-not-running" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>If your Task Scheduler task fails, check these common issues:</p><ul><li>Verify the task is running as the <strong>certadmin</strong> user (not root or another user)<li>Ensure certadmin has ownership of <code class="language-plaintext highlighter-rouge">/usr/local/share/acme.sh/</code><li>Check the task result logs in Task Scheduler for specific error messages<li>Verify the domain name in your renewal command matches exactly what you issued</ul><h3 id="checking-certificate-status"><span class="me-2">Checking Certificate Status</span><a href="#checking-certificate-status" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>View information about your certificates:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>./acme.sh <span class="nt">--list</span> <span class="nt">--home</span> <span class="nv">$PWD</span>
</pre></table></code></div></div><p>View detailed information for a specific certificate:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>./acme.sh <span class="nt">--info</span> <span class="nt">-d</span> <span class="s2">"exampledomain.com"</span> <span class="nt">--home</span> <span class="nv">$PWD</span>
</pre></table></code></div></div><h2 id="security-considerations"><span class="me-2">Security Considerations</span><a href="#security-considerations" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li><strong>Protect your credentials</strong>: The acme.sh configuration stores your Cloudflare API credentials. Ensure proper file permissions.<li><strong>Use API Tokens over Global API Keys</strong>: Tokens can be scoped to specific permissions and revoked independently.<li><strong>Limit SSH access</strong>: Consider disabling SSH when not needed or restricting it to specific IP addresses.<li><strong>Regular backups</strong>: Include your acme.sh directory in your backup routine to preserve certificate history and configurations.</ul><h2 id="rotating-cloudflare-api-credentials"><span class="me-2">Rotating Cloudflare API Credentials</span><a href="#rotating-cloudflare-api-credentials" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Cloudflare API tokens have expiration dates and should be rotated periodically for security. When your token expires or you need to rotate credentials, follow these steps:</p><h3 id="generate-a-new-api-token"><span class="me-2">Generate a New API Token</span><a href="#generate-a-new-api-token" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ol><li>Log into your Cloudflare dashboard<li>Navigate to <strong>My Profile</strong> → <strong>API Tokens</strong><li>Create a new token with the same permissions (or click <strong>Edit</strong> on your existing token to extend/regenerate it)<li>Copy the new token immediately - Cloudflare only shows it once</ol><h3 id="update-acmesh-configuration"><span class="me-2">Update acme.sh Configuration</span><a href="#update-acmesh-configuration" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>The API credentials are stored in acme.sh’s configuration file. To update them:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="c"># SSH into your Synology as certadmin or use sudo</span>
ssh certadmin@your-synology-ip
</pre></table></code></div></div><p>Edit the account configuration file:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">cd</span> /usr/local/share/acme.sh
nano account.conf
</pre></table></code></div></div><p>Look for these lines and update with your new credentials:</p><p>For API Token:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="nv">CF_Token</span><span class="o">=</span><span class="s1">'your_new_cloudflare_api_token_here'</span>
<span class="nv">CF_Account_ID</span><span class="o">=</span><span class="s1">'your_cloudflare_account_id'</span>
<span class="nv">CF_Zone_ID</span><span class="o">=</span><span class="s1">'your_zone_id'</span>
</pre></table></code></div></div><p>Or for Global API Key:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nv">CF_Key</span><span class="o">=</span><span class="s1">'your_new_cloudflare_global_api_key'</span>
<span class="nv">CF_Email</span><span class="o">=</span><span class="s1">'your_cloudflare_email@example.com'</span>
</pre></table></code></div></div><p>Save the file (Ctrl+O, Enter, Ctrl+X in nano).</p><h3 id="verify-the-new-credentials"><span class="me-2">Verify the New Credentials</span><a href="#verify-the-new-credentials" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Test that the new credentials work by forcing a renewal:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>./acme.sh <span class="nt">--renew</span> <span class="nt">-d</span> <span class="s2">"exampledomain.com"</span> <span class="nt">--home</span> /usr/local/share/acme.sh <span class="nt">--server</span> letsencrypt <span class="nt">--force</span>
</pre></table></code></div></div><p>If successful, your new API credentials are working correctly. The scheduled task will now use these updated credentials automatically.</p><h3 id="set-a-reminder"><span class="me-2">Set a Reminder</span><a href="#set-a-reminder" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Since API tokens expire, set a calendar reminder to rotate your token before expiration:</p><ul><li>Check your token’s expiration date in the Cloudflare dashboard<li>Set a reminder 1-2 weeks before expiration<li>Follow this rotation process when the reminder triggers</ul><h2 id="updating-acmesh"><span class="me-2">Updating acme.sh</span><a href="#updating-acmesh" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Keep acme.sh updated to benefit from bug fixes and new features:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">cd</span> /usr/local/share/acme.sh
./acme.sh <span class="nt">--upgrade</span> <span class="nt">--home</span> <span class="nv">$PWD</span>
</pre></table></code></div></div><p>To enable automatic updates:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>./acme.sh <span class="nt">--upgrade</span> <span class="nt">--auto-upgrade</span> <span class="nt">--home</span> <span class="nv">$PWD</span>
</pre></table></code></div></div><h2 id="conclusion"><span class="me-2">Conclusion</span><a href="#conclusion" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>With acme.sh and Cloudflare DNS validation, you now have a fully automated SSL certificate solution for your Synology NAS. Certificates will renew automatically, and you don’t need to expose your system to the internet. This setup is particularly valuable for home labs, internal services, or any Synology deployment that prioritizes security and convenience.</p><p>The combination of Let’s Encrypt’s free certificates, acme.sh’s automation capabilities, and Cloudflare’s DNS API creates a robust, maintenance-free certificate management system that just works.</p><h2 id="additional-resources"><span class="me-2">Additional Resources</span><a href="#additional-resources" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li><a href="https://github.com/acmesh-official/acme.sh">acme.sh GitHub Repository</a><li><a href="https://github.com/acmesh-official/acme.sh/wiki/dnsapi">acme.sh DNS API Wiki</a><li><a href="https://letsencrypt.org/docs/">Let’s Encrypt Documentation</a><li><a href="https://developers.cloudflare.com/api/">Cloudflare API Documentation</a></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/tutorial/">Tutorial</a>, <a href="/categories/synology/">Synology</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/synology/" class="post-tag no-text-decoration" >Synology</a> <a href="/tags/lets-encrypt/" class="post-tag no-text-decoration" >lets-encrypt</a> <a href="/tags/ssl/" class="post-tag no-text-decoration" >SSL</a> <a href="/tags/acme-sh/" class="post-tag no-text-decoration" >acme.sh</a> <a href="/tags/cloudflare/" class="post-tag no-text-decoration" >Cloudflare</a> <a href="/tags/dns-challenge/" class="post-tag no-text-decoration" >dns-challenge</a> <a href="/tags/automation/" class="post-tag no-text-decoration" >Automation</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">Share</span> <span class="share-icons"> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fcocallaw.com%2Fposts%2FAutomating-Lets-Encrypt-SSL-Certificates-on-Synology%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <a href="https://www.reddit.com/submit?url=https%3A%2F%2Fcocallaw.com%2Fposts%2FAutomating-Lets-Encrypt-SSL-Certificates-on-Synology%2F&title=Automating%20Let's%20Encrypt%20SSL%20Certificates%20on%20Synology%20DSM%20with%20acme.sh%20and%20Cloudflare%20DNS%20-%20cocallaw" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Reddit" aria-label="Reddit"> <i class="fa-fw fa-brands fa-square-reddit"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Automating%20Let's%20Encrypt%20SSL%20Certificates%20on%20Synology%20DSM%20with%20acme.sh%20and%20Cloudflare%20DNS%20-%20cocallaw&u=https%3A%2F%2Fcocallaw.com%2Fposts%2FAutomating-Lets-Encrypt-SSL-Certificates-on-Synology%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://www.threads.net/intent/post?text=Automating%20Let's%20Encrypt%20SSL%20Certificates%20on%20Synology%20DSM%20with%20acme.sh%20and%20Cloudflare%20DNS%20-%20cocallaw%20https%3A%2F%2Fcocallaw.com%2Fposts%2FAutomating-Lets-Encrypt-SSL-Certificates-on-Synology%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Threads" aria-label="Threads"> <i class="fa-fw fa-brands fa-square-threads"></i> </a> <a href="https://bsky.app/intent/compose?text=Automating%20Let's%20Encrypt%20SSL%20Certificates%20on%20Synology%20DSM%20with%20acme.sh%20and%20Cloudflare%20DNS%20-%20cocallaw%20https%3A%2F%2Fcocallaw.com%2Fposts%2FAutomating-Lets-Encrypt-SSL-Certificates-on-Synology%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Bluesky" aria-label="Bluesky"> <i class="fa-fw fa-brands fa-bluesky"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">Recently Updated</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/Proactively-monitor-Azure-retirements-AzRetirementMonitor/">Proactively Monitor Azure Service Retirements with AzRetirementMonitor</a><li class="text-truncate lh-lg"> <a href="/posts/Automating-Lets-Encrypt-SSL-Certificates-on-Synology/">Automating Let's Encrypt SSL Certificates on Synology DSM with acme.sh and Cloudflare DNS</a><li class="text-truncate lh-lg"> <a href="/posts/Deploying-AVD-with-Bicep/">Deploying AVD and retrieving the Registration Token with Bicep</a><li class="text-truncate lh-lg"> <a href="/posts/Identify-Legacy-AAD-PS-Users/">Identify AzureAD PowerShell Users in your Tenant before Retirement</a><li class="text-truncate lh-lg"> <a href="/posts/Export-Bitlocker-Keys-from-Entra/">Export BitLocker Keys from Entra with Graph PowerShell</a></ul></section><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">Automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/powershell/">PowerShell</a> <a class="post-tag btn btn-outline-primary" href="/tags/azure/">Azure</a> <a class="post-tag btn btn-outline-primary" href="/tags/devops/">DevOps</a> <a class="post-tag btn btn-outline-primary" href="/tags/entra/">Entra</a> <a class="post-tag btn btn-outline-primary" href="/tags/images/">images</a> <a class="post-tag btn btn-outline-primary" href="/tags/microsoft-graph/">Microsoft Graph</a> <a class="post-tag btn btn-outline-primary" href="/tags/acme-sh/">acme.sh</a> <a class="post-tag btn btn-outline-primary" href="/tags/avd/">AVD</a> <a class="post-tag btn btn-outline-primary" href="/tags/azure-virtual-desktop/">Azure Virtual Desktop</a></div></section></div><div class="toc-border-cover z-3"></div><section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4"><h2 class="panel-heading ps-3 pb-2 mb-0">Contents</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">Further Reading</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/Proactively-monitor-Azure-retirements-AzRetirementMonitor/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1767373200" data-df="ll" > Jan 2, 2026 </time><h4 class="pt-0 my-2">Proactively Monitor Azure Service Retirements with AzRetirementMonitor</h4><div class="text-muted"><p>Learn how to proactively monitor Azure service retirements across multiple subscriptions using the AzRetirementMonitor PowerShell module, helping you avoid disruptions and maintain compliance.</p></div></div></a></article><article class="col"> <a href="/posts/Automating-Container-Builds-for-Upstream-Changes/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1746450000" data-df="ll" > May 5, 2025 </time><h4 class="pt-0 my-2">Automating Container Builds with GitHub Actions for Upstream Changes</h4><div class="text-muted"><p>Automating container builds with GitHub Actions when the upstream image changes.</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/Deploying-AVD-with-Bicep/" class="btn btn-outline-primary" aria-label="Older" ><p>Deploying AVD and retrieving the Registration Token with Bicep</p></a> <a href="/posts/Proactively-monitor-Azure-retirements-AzRetirementMonitor/" class="btn btn-outline-primary" aria-label="Newer" ><p>Proactively Monitor Azure Service Retirements with AzRetirementMonitor</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2026</time> <a href="https://github.com/cocallaw">Corey Callaway</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >Some rights reserved.</span></p><p>Using the <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.4.1" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.</p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">Automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/powershell/">PowerShell</a> <a class="post-tag btn btn-outline-primary" href="/tags/azure/">Azure</a> <a class="post-tag btn btn-outline-primary" href="/tags/devops/">DevOps</a> <a class="post-tag btn btn-outline-primary" href="/tags/entra/">Entra</a> <a class="post-tag btn btn-outline-primary" href="/tags/images/">images</a> <a class="post-tag btn btn-outline-primary" href="/tags/microsoft-graph/">Microsoft Graph</a> <a class="post-tag btn btn-outline-primary" href="/tags/acme-sh/">acme.sh</a> <a class="post-tag btn btn-outline-primary" href="/tags/avd/">AVD</a> <a class="post-tag btn btn-outline-primary" href="/tags/azure-virtual-desktop/">Azure Virtual Desktop</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></aside><script> (function () { const themeMapper = Theme.getThemeMapper('light', 'dark_dimmed'); const initTheme = themeMapper[Theme.visualState]; let lang = 'en';if (lang.length > 2 && !lang.startsWith('zh')) { lang = lang.slice(0, 2); } let giscusAttributes = { src: 'https://giscus.app/client.js', 'data-repo': 'cocallaw/cocallaw.github.io', 'data-repo-id': 'R_kgDOMuW1lg', 'data-category': 'Giscus', 'data-category-id': 'DIC_kwDOMuW1ls4CjqPh', 'data-mapping': 'pathname', 'data-strict' : '0', 'data-reactions-enabled': '1', 'data-emit-metadata': '0', 'data-theme': initTheme, 'data-input-position': 'bottom', 'data-lang': lang, 'data-loading': 'lazy', crossorigin: 'anonymous', async: '' }; let giscusNode = document.createElement('script'); Object.entries(giscusAttributes).forEach(([key, value]) => giscusNode.setAttribute(key, value) ); const $footer = document.querySelector('footer'); $footer.insertAdjacentElement("beforebegin", giscusNode); addEventListener('message', (event) => { if (event.source === window && event.data && event.data.id === Theme.ID) { const newTheme = themeMapper[Theme.visualState]; const message = { setConfig: { theme: newTheme } }; const giscus = document.getElementsByClassName('giscus-frame')[0].contentWindow; giscus.postMessage({ giscus: message }, 'https://giscus.app'); } }); })(); </script> <script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{content}</p></article>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>
